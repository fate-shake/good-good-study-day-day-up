# 异步
>同步：执行一个任务，如果任务没有执行完就不交出执行权限给下一个任务

>异步：执行一个异步任务，不会一直等到异步任务完成才交出执行权限，执行完同步的部分就会把执行权交给下一个任务

## 事件机制
JavaScript是单线程的，为什么呢？因为最开始JavaScript是为了浏览器服务的，浏览器的工作方式决定了单线程的任务机制：如果多个线程同时操作一个DOM的话，那该听谁的呢？

执行栈：同步事件都放在主线程中执行，这些事件遵循先入先出的原则，等待主线程读取执行，就形成了执行栈

主线程会不断的检查执行栈中是否还有事件，直到执行完同步代码，这是主线程的循环

任务队列：当主线程遇见一个异步事件时并不会等待异步处理的结果，而是把事件放入任务队列

当主线程中的同步事件都执行完之后，主线程会查看任务队列中是否存在任务，如果有，则依次取出来压入栈执行回调函数；主线程会不断重复以上步骤；

异步任务又分为宏任务与微任务

宏任务：script(整体代码)、setTimeout、setInterval、UI 渲染、 I/O、postMessage、MessageChannel、setImmediate(Node.js 环境)

微任务：Promise、 MutaionObserver、process.nextTick(Node.js环境）

event-loop：先执行完主线程中的任务，然后取出依次微任务执行，直到微任务队列为空；然后再从宏任务中取出一个宏任务执行；完成本次事件循环；不断执行上述步骤，这就是JavaScript的事件循环；

> 以上只是初步了解事件循环机制，后续要更深层次了解+node事件机制

> 2019/4/28